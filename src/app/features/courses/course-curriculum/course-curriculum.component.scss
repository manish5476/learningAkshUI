/* ==========================================================================
   HOST & UTILITIES (Tokens Only)
   ========================================================================== */
:host {
  display: block;
  min-height: 100vh;
  background: var(--bg-primary);
  font-family: var(--font-body);
  color: var(--text-primary);
}

.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-tertiary { color: var(--text-tertiary); }
.text-error { color: var(--color-error); }
.required { color: var(--color-error); margin-left: 2px; }

.mt-sm { margin-top: var(--spacing-sm); }
.mt-md { margin-top: var(--spacing-md); }
.mt-lg { margin-top: var(--spacing-xl); }
.ml-sm { margin-left: var(--spacing-sm); }
.font-medium { font-weight: var(--font-weight-medium, 500); }
.cursor-pointer { cursor: pointer; }
.w-full { width: 100%; }

/* ==========================================================================
   PANELS & CONTAINERS
   ========================================================================== */
.course-curriculum-container {
  padding: var(--spacing-3xl);
  max-width: 1200px;
  margin: 0 auto;
}

.glass-panel {
  background: var(--glass-bg-c, var(--bg-secondary));
  backdrop-filter: blur(var(--glass-blur-c, 16px));
  -webkit-backdrop-filter: blur(var(--glass-blur-c, 16px));
  border: var(--ui-border-width) solid var(--glass-border-c, var(--border-primary));
  box-shadow: var(--shadow-md);
  border-radius: var(--ui-border-radius-xl);
}

.surface-raised {
  background: var(--component-surface-raised, var(--bg-primary));
  border: var(--ui-border-width) solid var(--border-primary);
  border-radius: var(--ui-border-radius-lg);
  box-shadow: var(--shadow-sm);
}

.surface-subtle {
  background: var(--bg-secondary);
  border: var(--ui-border-width) solid var(--border-primary);
  border-radius: var(--ui-border-radius-md);
  padding: var(--spacing-md) var(--spacing-lg);
  display: flex; align-items: center;
}

/* ==========================================================================
   HEADER
   ========================================================================== */
.curriculum-header {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: var(--spacing-4xl); padding-bottom: var(--spacing-2xl);
  border-bottom: var(--ui-border-width) solid var(--border-primary);
  flex-wrap: wrap; gap: var(--spacing-xl);
}

.header-left { display: flex; align-items: center; gap: var(--spacing-xl); }
.page-title { font-family: var(--font-heading); font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); margin: 0 0 var(--spacing-xs); }
.course-title { font-size: var(--font-size-md); color: var(--text-secondary); margin: 0; font-family: var(--font-mono); }
.header-actions { display: flex; gap: var(--spacing-md); }

/* Buttons */
.btn-primary, .btn-secondary {
  display: inline-flex; align-items: center; justify-content: center; gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-xl); font-size: var(--font-size-md); font-weight: var(--font-weight-bold);
  border-radius: var(--ui-border-radius-lg); cursor: pointer; transition: var(--transition-base); border: none;
}
.btn-primary { background: var(--color-primary); color: #fff; box-shadow: var(--shadow-sm); }
.btn-primary:hover:not(:disabled) { background: var(--color-primary-dark); transform: translateY(-2px); box-shadow: var(--shadow-md); }
.btn-secondary { background: transparent; color: var(--text-primary); border: var(--ui-border-width) solid var(--border-primary); }
.btn-secondary:hover:not(:disabled) { background: var(--bg-hover); transform: translateY(-1px); }

.btn-icon {
  width: 36px; height: 36px; border-radius: var(--ui-border-radius-sm); border: none; background: var(--bg-ternary); color: var(--text-secondary);
  display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: var(--transition-fast);
}
.btn-icon:hover { background: var(--border-primary); color: var(--text-primary); }
.btn-info:hover { background: var(--color-info-bg); color: var(--color-info); border-color: var(--color-info-border); }
.btn-danger:hover { background: var(--color-error-bg); color: var(--color-error); border-color: var(--color-error-border); }

/* ==========================================================================
   STATS
   ========================================================================== */
.curriculum-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-xl); margin-bottom: var(--spacing-4xl); }
.stat-card { display: flex; align-items: center; gap: var(--spacing-xl); padding: var(--spacing-2xl); }
.stat-icon {
  width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: var(--font-size-2xl); flex-shrink: 0;
}
.icon-primary { background: var(--color-primary-bg); color: var(--color-primary); border: 1px solid color-mix(in srgb, var(--color-primary) 30%, transparent); }
.icon-success { background: var(--color-success-bg); color: var(--color-success); border: 1px solid color-mix(in srgb, var(--color-success) 30%, transparent); }
.icon-warning { background: var(--color-warning-bg); color: var(--color-warning); border: 1px solid color-mix(in srgb, var(--color-warning) 30%, transparent); }

.stat-content { display: flex; flex-direction: column; gap: 4px; }
.stat-value { font-family: var(--font-heading); font-size: var(--font-size-3xl); font-weight: var(--font-weight-bold); line-height: 1; }
.stat-label { font-size: var(--font-size-xs); color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.05em; font-weight: var(--font-weight-bold); }

/* ==========================================================================
   SECTIONS LIST (Drag & Drop)
   ========================================================================== */
.sections-container { display: flex; flex-direction: column; gap: var(--spacing-2xl); }

.section-card { overflow: hidden; transition: var(--transition-base); border-left: 4px solid var(--color-primary); }
.section-card.p-draggable-dragging { opacity: 0.5; box-shadow: var(--shadow-2xl); transform: scale(1.02); }

.section-header {
  display: flex; align-items: center; gap: var(--spacing-lg); padding: var(--spacing-lg) var(--spacing-2xl);
  background: var(--bg-secondary); border-bottom: var(--ui-border-width) solid var(--border-primary);
  user-select: none; transition: var(--transition-fast);
}
.section-header:hover { background: color-mix(in srgb, var(--bg-secondary) 80%, var(--bg-primary)); }

.section-drag-handle { color: var(--text-tertiary); cursor: grab; font-size: var(--font-size-lg); padding: var(--spacing-xs); }
.section-drag-handle:active { cursor: grabbing; color: var(--color-primary); }

.section-info { flex: 1; }
.section-title-wrapper { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: var(--spacing-md); }
.section-title { margin: 0; font-family: var(--font-heading); font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); }

.section-meta { display: flex; gap: var(--spacing-lg); align-items: center; color: var(--text-secondary); font-family: var(--font-mono); font-size: var(--font-size-xs); font-weight: var(--font-weight-medium); }
.meta-item { display: flex; align-items: center; gap: var(--spacing-xs); }

.badge { padding: 2px 10px; border-radius: 999px; font-size: var(--font-size-xs); font-weight: var(--font-weight-bold); text-transform: uppercase; border: var(--ui-border-width) solid transparent; }
.badge-warning { background: var(--color-warning-bg); color: var(--color-warning); border-color: color-mix(in srgb, var(--color-warning) 30%, transparent); }

.section-actions { display: flex; gap: var(--spacing-sm); opacity: 0.6; transition: var(--transition-base); }
.section-card:hover .section-actions { opacity: 1; }

.section-content { padding: var(--spacing-2xl); background: var(--bg-primary); }

/* ==========================================================================
   FORMS & DIALOGS
   ========================================================================== */
.form-group { margin-bottom: var(--spacing-lg); display: flex; flex-direction: column; }
.input-label { font-size: var(--font-size-sm); font-weight: var(--font-weight-bold); margin-bottom: var(--spacing-xs); display: block; }

.custom-input {
  width: 100%; padding: var(--spacing-md) var(--spacing-lg); font-family: var(--font-body);
  background: var(--bg-ternary); border: var(--ui-border-width-lg) solid var(--border-primary);
  border-radius: var(--ui-border-radius-lg); color: var(--text-primary); font-size: var(--font-size-md);
  outline: none; transition: var(--transition-base);
}
.custom-input:focus { background: var(--bg-primary); border-color: var(--color-primary); box-shadow: 0 0 0 3px var(--color-primary-bg); }
.custom-input.error { border-color: var(--color-error); background: var(--color-error-bg); }
.textarea-input { resize: vertical; min-height: 100px; }

.error-message { font-size: var(--font-size-xs); color: var(--color-error); margin-top: var(--spacing-xs); font-weight: var(--font-weight-bold); }

.dialog-actions {
  display: flex; justify-content: flex-end; gap: var(--spacing-md);
  margin-top: var(--spacing-3xl); padding-top: var(--spacing-xl); border-top: var(--ui-border-width) solid var(--border-secondary);
}

/* ==========================================================================
   STATES
   ========================================================================== */
.state-overlay {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: var(--spacing-5xl); text-align: center; min-height: 400px;
}
.spinner {
  width: 50px; height: 50px; border: 4px solid var(--border-secondary);
  border-top-color: var(--color-primary); border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

.empty-icon-wrapper {
  width: 80px; height: 80px; border-radius: 50%; background: var(--bg-ternary);
  border: var(--ui-border-width) solid var(--border-primary); display: flex; align-items: center; justify-content: center; margin-bottom: var(--spacing-2xl);
}
.empty-icon-wrapper i { font-size: var(--font-size-4xl); color: var(--text-tertiary); }
.empty-title { font-family: var(--font-heading); font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); margin: 0 0 var(--spacing-xs); }
.empty-subtitle { font-size: var(--font-size-md); color: var(--text-secondary); margin: 0; }

/* Responsive */
@media (max-width: 768px) {
  .course-curriculum-container { padding: var(--spacing-xl); }
  .curriculum-header { flex-direction: column; align-items: flex-start; }
  .section-title-wrapper { flex-direction: column; align-items: flex-start; gap: var(--spacing-sm); }
  .section-actions { opacity: 1; }
  .section-header { padding: var(--spacing-md); }
  .section-content { padding: var(--spacing-lg) var(--spacing-sm); }
}