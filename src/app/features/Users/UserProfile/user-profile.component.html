<div class="profile-container" *ngIf="!loading && profileData">
  <div class="profile-header">
    <img [src]="profileData.user?.profilePicture || 'assets/default-avatar.png'" alt="Avatar">
    <div>
      <span class="role-badge">{{ profileData.user?.role }}</span>
      <h2>{{ profileData.user?.firstName }} {{ profileData.user?.lastName }}</h2>
      <p class="text-secondary">{{ profileData.user?.email }}</p>
    </div>
  </div>

  <div class="info-grid">
    <div class="field">
      <label>Phone Number</label>
      <span>{{ profileData.user?.phoneNumber || 'Not provided' }}</span>
    </div>
    <div class="field">
      <label>Location</label>
      <span *ngIf="profileData.user?.address">
        {{ profileData.user.address.city }}, {{ profileData.user.address.country }}
      </span>
    </div>
  </div>

  <hr class="divider" style="margin: var(--spacing-xl) 0; border: none; border-top: var(--ui-border-width) solid var(--border-secondary);">

  <div *ngIf="profileData.user?.role === 'instructor'">
    <h3>Bio</h3>
    <p>{{ profileData.bio }}</p>
    
    <h3>Expertise</h3>
    <div class="expertise-tags">
      <span class="tag" *ngFor="let skill of profileData.expertise">{{ skill }}</span>
    </div>
  </div>

  <div *ngIf="profileData.user?.role === 'student'">
    <h3>Interests</h3>
    <div class="expertise-tags">
      <span class="tag" *ngFor="let interest of profileData.interests">{{ interest }}</span>
    </div>
  </div>
</div>

<div *ngIf="loading" class="loader">Loading...</div>