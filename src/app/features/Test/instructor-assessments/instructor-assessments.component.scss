/* ==========================================================================
   HOST & GLOBALS 
   ========================================================================== */
:host {
  display: block;
  min-height: 100vh;
  background-color: var(--bg-primary, #030712);
  font-family: var(--font-body, 'Inter', sans-serif);
  color: var(--text-primary, #f8fafc);
}

.text-primary { color: var(--color-primary); }
.text-secondary { color: var(--text-secondary); }
.text-tertiary { color: var(--text-tertiary); }
.text-success { color: var(--color-success); }
.text-error { color: var(--color-error); }
.text-info { color: var(--color-info); }

.m-0 { margin: 0; }
.mt-xs { margin-top: 0.25rem; }
.mt-md { margin-top: 1rem; }
.mb-0 { margin-bottom: 0; }
.mb-lg { margin-bottom: 1.5rem; }
.mb-2xl { margin-bottom: 3rem; }

.flex { display: flex; }
.flex-col { display: flex; flex-direction: column; }
.justify-between { justify-content: space-between; }
.justify-end { justify-content: flex-end; }
.align-center { align-items: center; }
.gap-xs { gap: 0.25rem; }
.gap-sm { gap: 0.5rem; }
.mx-auto { margin-left: auto; margin-right: auto; }
.text-center { text-align: center; }

.font-bold { font-weight: 700; }
.font-medium { font-weight: 500; }
.text-lg { font-size: 1.15rem; }
.font-mono { font-family: var(--font-mono); }

/* ==========================================================================
   LAYOUT & SURFACES
   ========================================================================== */
.assessment-dashboard { max-width: 1400px; margin: 0 auto; padding: var(--spacing-3xl) var(--spacing-4xl); }

.glass-panel {
  background: var(--glass-bg-c, rgba(15, 23, 42, 0.6));
  backdrop-filter: blur(var(--glass-blur-c, 24px));
  -webkit-backdrop-filter: blur(var(--glass-blur-c, 24px));
  border: 1px solid var(--glass-border-c, rgba(255,255,255,0.08));
  border-radius: var(--ui-border-radius-xl, 1.5rem);
  padding: var(--spacing-3xl, 2.5rem);
}

/* ==========================================================================
   HEADER & SEARCH
   ========================================================================== */
.dashboard-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1.5rem; }
.page-title { font-family: var(--font-heading); font-size: 2rem; font-weight: 800; letter-spacing: -0.02em; }
.gradient-text { background: linear-gradient(135deg, #fff 0%, var(--text-secondary) 100%); -webkit-background-clip: text; color: transparent; }

.search-bar { position: relative; }
.search-bar i { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); z-index: 1; }
.custom-input {
  background: var(--bg-ternary); border: var(--ui-border-width-lg) solid var(--border-primary);
  border-radius: 999px; color: var(--text-primary); font-family: var(--font-body);
  padding: 0.75rem 1rem 0.75rem 2.5rem; transition: 0.2s; outline: none; font-size: 0.95rem; width: 300px;
}
.custom-input:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px var(--color-primary-bg); background: var(--bg-primary); }

/* Buttons & Badges */
.btn-glow { padding: 0.85rem 1.5rem; border-radius: 999px; font-weight: 700; border: none; cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; gap: 8px; font-family: var(--font-body); }
.btn-glow.primary { background: var(--color-primary); color: #fff; box-shadow: 0 8px 20px -5px color-mix(in srgb, var(--color-primary) 50%, transparent); }
.btn-glow.primary:hover { transform: translateY(-2px); filter: brightness(1.1); }
.btn-glow.outline { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: #fff; }
.btn-glow.outline:hover { background: rgba(255,255,255,0.05); border-color: #fff; }

.btn-icon { width: 36px; height: 36px; border-radius: 8px; border: 1px solid transparent; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; background: transparent; }
.btn-ghost:hover { background: rgba(255,255,255,0.05); border-color: rgba(255,255,255,0.1); }

.id-badge { display: inline-flex; align-items: center; gap: 6px; padding: 4px 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 6px; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-tertiary); cursor: pointer; transition: 0.2s; width: fit-content; }
.id-badge:hover { color: var(--color-primary); background: color-mix(in srgb, var(--color-primary) 10%, transparent); border-color: color-mix(in srgb, var(--color-primary) 30%, transparent); }

/* ==========================================================================
   TABLE OVERRIDES (Glassmorphism)
   ========================================================================== */
.table-header-row { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem; }
.custom-table-wrapper { width: 100%; overflow-x: auto; }

:host ::ng-deep .p-datatable-glass {
  .p-datatable-header { background: transparent; border: none; padding: 0; }
  .p-datatable-thead > tr > th { background: color-mix(in srgb, var(--bg-secondary) 50%, transparent); color: var(--text-tertiary); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 700; border-bottom: 1px solid rgba(255,255,255,0.05); padding: 1.25rem 1rem; transition: 0.2s; }
  .p-datatable-thead > tr > th:hover { background: color-mix(in srgb, var(--bg-secondary) 80%, transparent); color: var(--color-primary); }
  .p-datatable-tbody > tr > td { background: transparent; border-bottom: 1px solid rgba(255,255,255,0.02); padding: 1.25rem 1rem; color: var(--text-primary); }
  .p-datatable-tbody > tr { transition: background 0.2s; }
  .p-datatable-tbody > tr:hover { background: rgba(255,255,255,0.02); }
  
  .p-paginator { background: transparent; border: none; padding-top: 1.5rem; }
  .p-paginator .p-paginator-pages .p-paginator-page.p-highlight { background: color-mix(in srgb, var(--color-primary) 20%, transparent); border-color: var(--color-primary); color: var(--color-primary); }
}

/* ==========================================================================
   STATES
   ========================================================================== */
.loading-state, .empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 5rem 0; text-align: center; }
.loader-ring { width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.1); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1s infinite linear; }
@keyframes spin { to { transform: rotate(360deg); } }

.empty-state .icon-circle { width: 80px; height: 80px; border-radius: 50%; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; }
.empty-state h3 { font-family: var(--font-heading); font-size: 1.5rem; color: #fff; margin: 0 0 0.5rem; }

/* Dialog Override */
:host ::ng-deep .glass-dialog { background: var(--bg-secondary); border: 1px solid var(--border-primary); border-radius: var(--ui-border-radius-lg); overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.8); }
:host ::ng-deep .glass-dialog .p-dialog-header { background: rgba(0,0,0,0.2); border-bottom: 1px solid var(--border-secondary); color: #fff; }
:host ::ng-deep .glass-dialog .p-dialog-content { background: transparent; color: var(--text-secondary); padding-top: 1.5rem; }
:host ::ng-deep .glass-dialog .p-dialog-footer { background: transparent; border-top: 1px solid var(--border-secondary); }

/* Responsive */
@media (max-width: 768px) {
  .assessment-dashboard { padding: 1.5rem; }
  .dashboard-header { flex-direction: column; align-items: flex-start; }
  .table-header-row { flex-direction: column; align-items: stretch; }
  .custom-input { width: 100%; }
}